{"version":3,"file":"urql-next-rsc.mjs","sources":["../src/rsc.ts"],"sourcesContent":["import * as React from 'react';\nimport type { Client } from '@urql/core';\n\n/** Function to cache an urql-client across React Server Components.\n *\n * @param makeClient - A function that creates an urql-client.\n * @returns an object containing a getClient method.\n *\n * @example\n * ```ts\n * import { cacheExchange, createClient, fetchExchange, gql } from '@urql/core';\n * import { registerUrql } from '@urql/next/rsc';\n * const makeClient = () => {\n *   return createClient({\n *     url: 'https://trygql.formidable.dev/graphql/basic-pokedex',\n *     exchanges: [cacheExchange, fetchExchange],\n *   });\n * };\n *\n * const { getClient } = registerUrql(makeClient);\n * ```\n */\nexport function registerUrql(makeClient: () => Client): {\n  getClient: () => Client;\n} {\n  // @ts-ignore you exist don't worry\n  const getClient = React.cache(makeClient);\n  return {\n    getClient,\n  };\n}\n"],"names":["registerUrql","makeClient","getClient","React","cache"],"mappings":";;AAsBO,SAASA,aAAaC;EAK3B,OAAO;IACLC,WAFgBC,EAAMC,MAAMH;;AAIhC;;"}