import{Provider as e,createRequest as r,useQuery as t}from"urql";export*from"urql";import n from"react";import{ServerInsertedHTMLContext as a}from"next/navigation";var o=n.createContext(void 0),i=({children:e})=>{var r=n.useRef();return"undefined"==typeof window&&(r.current||(r.current=function(){var e={isInjecting:!1,operationValuesByKey:{},RehydrateScript(){if(e.isInjecting=!1,!Object.keys(e.operationValuesByKey).length)return n.createElement(n.Fragment);var r,t=(r={rehydrate:{...e.operationValuesByKey}},`(window[Symbol.for("urql_transport")] ??= []).push("${Buffer.from(JSON.stringify(r),"utf-8").toString("base64")}")`);return e.operationValuesByKey={},n.createElement("script",{key:s++,dangerouslySetInnerHTML:{__html:t}})}};return e}())),n.createElement(o.Provider,{value:r.current},e)},s=0,d=n.createContext(void 0);function u({children:r,ssr:t,client:a}){return n.createElement(e,{value:a},n.createElement(d.Provider,{value:t},n.createElement(i,{},r)))}var c=Symbol.for("urql_transport");function y(e){var r=n.useContext(d),t=function(){var e=n.useContext(o),r=n.useContext(a);if("undefined"==typeof window)return r&&e&&!e.isInjecting&&(e.isInjecting=!0,r((()=>n.createElement(e.RehydrateScript,{})))),e}();if(!r)throw new Error('Missing "UrqlProvider" component as a parent or did not pass in an "ssrExchange" to the Provider.');if("undefined"==typeof window){var i=r.extractData();if(t&&i[e]){var s=i[e],u={...s,extensions:s.extensions?JSON.parse(s.extensions):s.extensions,data:s.data?JSON.parse(s.data):s.data,error:s.error};t.operationValuesByKey[e]=u}}else{var y=(window[c]?window[c].map((e=>JSON.parse(function(e){for(var r=atob(e),t=new Uint8Array(r.length),n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return(new TextDecoder).decode(t)}(e)))):[]).find((r=>r&&r.rehydrate&&r.rehydrate[e]));if(y){var f=y.rehydrate&&y.rehydrate[e];f&&(delete y.rehydrate[e],r.restoreData({[e]:{extensions:JSON.stringify(f.extensions),data:JSON.stringify(f.data),error:f.error}}),delete y.rehydrate[e])}}}function f(e){var n=r(e.query,e.variables||{});y(n.key);var[a,o]=t(e);return y(n.key),[a,o]}export{u as UrqlProvider,f as useQuery};
//# sourceMappingURL=urql-next.min.mjs.map
