import{Provider as e,createRequest as r,useQuery as t}from"urql";export*from"urql";import n from"react";import{ServerInsertedHTMLContext as a}from"next/navigation";var o=n.createContext(void 0),i=({children:e})=>{var r=n.useRef();return"undefined"==typeof window&&(r.current||(r.current=function(){var e={isInjecting:!1,operationValuesByKey:{},RehydrateScript(){if(e.isInjecting=!1,!Object.keys(e.operationValuesByKey).length)return n.createElement(n.Fragment);var r,t=(r={rehydrate:{...e.operationValuesByKey}},`(window[Symbol.for("urql_transport")] ??= []).push("${Buffer.from(JSON.stringify(r)).toString("base64")}")`);return e.operationValuesByKey={},n.createElement("script",{key:s++,dangerouslySetInnerHTML:{__html:t}})}};return e}())),n.createElement(o.Provider,{value:r.current},e)},s=0,d=n.createContext(void 0);function u({children:r,ssr:t,client:a}){return n.createElement(e,{value:a},n.createElement(d.Provider,{value:t},n.createElement(i,{},r)))}var y=Symbol.for("urql_transport");function c(e){var r=n.useContext(d),t=function(){var e=n.useContext(o),r=n.useContext(a);if("undefined"==typeof window)return r&&e&&!e.isInjecting&&(e.isInjecting=!0,r((()=>n.createElement(e.RehydrateScript,{})))),e}();if(!r)throw new Error('Missing "UrqlProvider" component as a parent or did not pass in an "ssrExchange" to the Provider.');if("undefined"==typeof window){var i=r.extractData();if(t&&i[e]){var s=i[e],u={...s,extensions:s.extensions?JSON.parse(s.extensions):s.extensions,data:s.data?JSON.parse(s.data):s.data,error:s.error};t.operationValuesByKey[e]=u}}else{var c=(window[y]?atob(window[y]):[]).find((r=>r&&r.rehydrate&&r.rehydrate[e]));if(c){var l=c.rehydrate&&c.rehydrate[e];l&&(delete c.rehydrate[e],r.restoreData({[e]:{extensions:JSON.stringify(l.extensions),data:JSON.stringify(l.data),error:l.error}}),delete c.rehydrate[e])}}}function l(e){var n=r(e.query,e.variables||{});c(n.key);var[a,o]=t(e);return c(n.key),[a,o]}export{u as UrqlProvider,l as useQuery};
//# sourceMappingURL=urql-next.min.mjs.map
